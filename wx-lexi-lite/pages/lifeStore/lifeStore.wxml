<view class="container">
  <view class='sear-box flex_row font-s'>
    <image src='../../images/sear@2.png'></image>
    <view class='search-box_text flex_row'>
      <image src='../../images/sear-icon@2.png'></image>
      <text>关键字/礼物/品牌馆/人</text>
    </view>
  </view>
  <view class='category-box'>
    <text class='font-xxl {{pickCategory==item.id?"pickCategory--style theme-green":""}}' wx:for='{{category}}' wx:key='{{index}}' data-category-id='{{item.id}}' catchtap='handlePickCategory'> {{item.name}} </text>
  </view>

  <!-- 生活馆 -->
  <view wx:if="{{pickCategory==1}}">

    <!-- 用户的信息和店铺的信息 -->
    <view class='owner-info_box'>
      <view class=' flex_row'>
        <!-- 店主信息 -->
        <view class='owner-avatar_box'>
          <image src="{{ lifeStore.logo }}"></image>
          <image src='../../images/huanzhaopian@2.png' class='owner-info_icon--style owner-info_camera_icon'></image>
        </view>

        <view class='owner-info-text_info'>
          <view>
            <image src='../../images/shixicon@2.png' class='owner-info_icon--style'></image>
            <text class='font-sxl'>{{ lifeStore.name }}的生活馆</text>
          </view>
          <view class='font-s qian-hui'>
            <text>{{ lifeStore.description }}</text>
          </view>
        </view>
      </view>

      <!-- 浏览过的人数 -->
      <view class='joinNumber'>
        <view class='theme-hui-color'>
          <text class='theme-color'>{{ shopInfo.browse_number }}</text> 浏览过设计馆</view>
        <view class='joinNumberBottom'>
          <view class='joinNumberl'>
            <view class='joinNumberlBox'>
              <view wx:key='{{ index }}' class='photo-round joinNumberlPhoto' wx:for='{{ BrowseQuantityInfo.user_parties }}'>
                <image src='{{ item.avatar }}'></image>
              </view>
              <view class='photo-round joinNumberlPhoto'>
                <open-data type='userAvatarUrl'></open-data>
              </view>
            </view>
          </view>
          <view class='browse-number-box fx-broadwise-e'>
            <view class='joinNumberR'>
              {{ shopInfo.browse_number > 999 ? '999+' : shopInfo.browse_number }}
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- 实习馆长 -->
    <view class="probation-box font-ss">
      <view class='time-top'>
        <view class='time-top '>
          <view class='probation-icon c-middle'>实习</view>
          <view class='shen-hui'>当前为实习馆主</view>
        </view>
        <view class='off-icon--style qian-hui font-s'>x</view>
      </view>
      <view class='probation-success-text'>成功在30天内销售3笔订单即可成为正式的达人馆主哦，如一个月内未达标准生活馆将被关闭，如重新申请需单独联系乐喜辅导员 申请。
      </view>
    </view>

    <!-- 选聘中心 -->
    <view class='pick-product-box c-crosswise-a font--white' bindtap="handleGoDistribute">
      <view></view>
      <view class='font-s'>
        <view>挑选乐喜优质商品上架</view>
        <view>品位生活，由此开启</view>
      </view>
      <view class='font-m'>选品中心 ></view>
    </view>

    <!-- 商品展示区域 -->
    <view class='theme-bg-color recommend-product-box'>
      
      <!-- 缺省 -->
      <view class='small-b-no_prodct fx-column--center qian-hui font-s' wx:if="{{ !storeProducts.length }}">
        <view class='no-sell-product_icon_box'>
          <image src='../../images/no-sell-product@2.png'></image>
        </view>
        <view>当前生活馆还没有上架商品</view>
        <view>你可以通过精选和探索挑选喜欢的好物</view>
      </view>

      <view class='tuijian' wx:for="{{ storeProducts }}" wx:for-item="product" wx:key="{{ product.rid }}" wx:if="{{ storeProducts.length }}">

        <!-- 店长头相 -->
        <view class='shopMaster'>
          <image src='{{ storeOwner.avatar }}' class='photo-round'></image>
          <text>馆长极力推荐</text>
          <!-- 垃圾箱 -->
          <view class="delete-icon" data-rid="{{ product.rid }}" bindtap="handleRemoveFromStore">
            <image src='../../images/delete-icon@2.png'></image>
          </view>
        </view>

        <!-- 推荐理由介绍 -->
        <view class='shopRecommend theme-bg-color'>
          <view class='triangle theme-bg-color'></view>
          <text> {{ product.stick_text }} </text>
        </view>

        <!-- 物品的详情 -->
        <view class='shopRecommendGoods-box'>
          <fx-product-middleM originPric="{{ true }}" is_likeNumber="{{ true }}" price="{{ true }}" product="{{ product }}" bind:triggerEvent_product="handleGoProduct" data-rid="{{ product.rid }}"></fx-product-middleM>
        </view>

        <!-- 底部的喜欢和分享 -->
        <view class='recommendbottom'>
          <view data-id='{{item.rid}}' data-isLike='{{item.is_like}}' class='recommendbottomText {{item.is_like?"likeActive":""}}' catchtap='handleBindLike'>
            <view class='icon-like'>
              <image src='{{item.is_like?"../../images/Like@2.png":"../../images/dLike@2.png"}}'>
              </image>
            </view>
            <view>喜欢</view>
          </view>
          <view class='recommendbottomText'>
            <view class='icon-like'>
              <image src='../../images/share@2.png'></image>
            </view>
            <view catchtap='handleShareBox' data-shareStore='{{item}}' data-from="2">分享</view>
          </view>
          <view class='recommendbottomRen'>
            <image src='{{logo}}' class='photo-round'></image>
            <image src='{{logo}}' class='photo-round'></image>
            <image src='{{logo}}' class='photo-round'></image>
          </view>
        </view>
      </view>

      <!-- 查看更多 -->
      <view class="c-middle shen-hui font-s examine-more-box" wx:if="{{ loadingMore }}">
        查看更多好物
        <text class='fx-icon-nothing-lower'></text>
      </view>

    </view>

    <!-- 最新作品 wx:for='{{currentNewProduct.products}}' -->
    <view>
      <view class='human new-goods'>
        本周最受欢迎
      </view>
      <view class='production new-goods_box'>
        <view class='productionGoods {{ (index+1)%5 == 0 ? "productionGoodsFive" : "" }}' wx:for="{{ popularProducts }}" wx:key='{{ item.rid }}'>
          <fx-product product="{{ item }}" like_number="{{ true }}" bind:triggerEvent_product="handleGoProduct" data-rid="{{ item.rid }}"></fx-product>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 官方信息 -->
  <fx-offcial></fx-offcial>
</view>